(this["webpackJsonpalex-app"]=this["webpackJsonpalex-app"]||[]).push([[0],{25:function(e,t,r){},42:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},53:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(28),o=r.n(s),c=r(17),i=(r(25),r(8)),u=r(29),l=r(12),p=r(4),d=r(3),h=r(2),f=r.n(h),v=r(20),m=r(6),x=(r(42),r(0));function b(e){return Object(x.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:'\n            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather '.concat(e.left?"left":"",'"}>\n                <line x1="5" y1="12" x2="19" y2="12"></line>\n                <polyline points="12 5 19 12 12 19"></polyline>\n            </svg>\n        ')}})}r(44);function w(e){var t=a.a.useState(!1),r=Object(d.a)(t,2),n=r[0],s=r[1],o=a.a.useRef(null),c=a.a.useState(0),i=Object(d.a)(c,2),u=i[0],l=i[1];return a.a.useEffect((function(){null!==o&&void 0!==o&&o.current&&(s(e.show),l(o.current.clientHeight))}),[e.show,o]),Object(x.jsx)("div",{className:"card-wrapper ".concat(e.fullWidth?"full":""," ").concat(e.doTransition?"overflow-hidden":""),style:{height:e.doTransition?n?u:0:"initial"},children:Object(x.jsx)("div",{className:"card ".concat(n?"show":""," ").concat(e.doTransition?"doTransition":""),ref:o,children:e.children})})}r(45);function y(e){var t=e.children;return Object(x.jsx)("div",{className:"errorBanner",children:t})}r(46);function g(e){var t=e.onSubmit,r=e.placeholder,n=a.a.useState(""),s=Object(d.a)(n,2),o=s[0],c=s[1];return Object(x.jsxs)("form",{className:"inputBar",onSubmit:function(e){return e.preventDefault(),t(o),!1},children:[Object(x.jsx)("input",{type:"text",className:"inputTextBox",id:"inputTextBox",placeholder:r,value:o,onChange:function(e){return c(e.target.value)},required:!0}),Object(x.jsx)("button",{className:"inputSearchButton",children:Object(x.jsxs)("span",{className:"text",children:["Search",Object(x.jsx)("span",{className:"arrow",children:Object(x.jsx)(b,{})})]})})]})}r(47);function j(e){var t=e.percentage;return t&&t>3&&(t=Math.max(20,t<90?t:100)),t>0?Object(x.jsx)("div",{className:"progressBar",children:Object(x.jsx)("div",{className:"progressBarInner",style:{width:"".concat(t,"%")}})}):Object(x.jsx)(a.a.Fragment,{})}var O={_data:{versionList:[],maxVersion:0,versions:{},storageString:null,instanceHelpers:{},staticHelpers:{}},setKey:function(e){return this._data.storageString=e,this},addVersion:function(e){var t=e.version,r=e.migrate,n=e.create;if(t<0)throw new Error("Cannot add version below 0 in store");if(t>0&&!r)throw new Error("Missing migration on version ".concat(t," (needed for any version above 0)"));return t>this._data.maxVersion&&(this._data.maxVersion=t),this._data.versionList.push(t),this._data.versions[t.toString()]={version:t,update:r?function(e){return r(e),e["--version"]=t,e}:null,init:n?function(){var e=n();return e["--version"]=t,e}:null},this},registerHelper:function(e){var t=e.name,r=e.helper,n=e.type;if(n||(n="instance"),!t||t.constructor!==String)throw new Error("helper name is not a string");if(!r||r.constructor!==Function)throw new Error("helper function is not a function");if(!["instance","static"].includes(n))throw new Error("helper type must be either 'instance' or 'static'");return"instance"===n?this._data.instanceHelpers[t]=r:"static"===n&&(this._data.staticHelpers[t]=r),this},build:function(){var e=this._data.versionList.sort((function(e,t){return e-t}));if(e.forEach((function(e,t,r){if(0!==t&&e!==r[t-1]+1)throw new Error("Version list of store is not incremental")})),0!==e[0])throw new Error("Version 0 doesn't exist in version list of store");if(!this._data.versions[this._data.maxVersion.toString()].init)throw new Error("Missing create function on version ".concat(this._data.maxVersion," (needed for latest version of store)"));if(!this._data.storageString)throw new Error("storage key not set in store");return function(e){var t={versions:e.versions,currentVersion:e.maxVersion,id:e.storageString};return t.get=function(){var t=this,r=this,n=localStorage.getItem(this.id);if(n)try{if(!(n=JSON.parse(n)).constructor)throw console.error("Storage item for store ".concat(this.id," has not constructor")),new Error("storage item has no constructor");if(n.constructor!==Object)throw console.error("Storage item for store ".concat(this.id," is not an object")),new Error("storage item is not an object")}catch(a){console.error("Failed to parse storage item for store ".concat(this.id)),n=null}return n||(n=this.versions[this.currentVersion.toString()].init()),(n=this.update(n)).save=function(){localStorage.setItem(r.id,JSON.stringify(n))},Object.entries(e.instanceHelpers).forEach((function(e){var r=Object(d.a)(e,2),a=r[0],s=r[1];if(void 0!==n[a])throw new Error("helper name: ".concat(a," on instance of store ").concat(t.id," is reserved"));n[a]=s.bind(n)})),n}.bind(t),t.update=function(e){if(!e)throw new Error("object to update is not an object");for(void 0===e["--version"]&&(e["--version"]=0);e["--version"]!==this.currentVersion;){var t=e["--version"]||0;if(t=t.constructor!==Number||t<0?-42:(t+1).toString(),!this.versions[t]){console.error("Version not found for storage item in store ".concat(this.id,", resetting")),e=null;break}e=this.versions[t].update(e)}return null===e?(console.error("Storage item for store ".concat(this.id," has been reset due to faulty updates")),this.versions[this.currentVersion.toString()].init()):e}.bind(t),Object.entries(e.staticHelpers).forEach((function(e){var r=Object(d.a)(e,2),n=r[0],a=r[1];if(void 0!==t[n])throw new Error("helper name: ".concat(n," on store ").concat(t.id," is reserved"));t[n]=a.bind({})})),t}(this._data)}}.setKey("video-progress").addVersion({version:0,create:function(){return{}}}).build();r(48);function S(e){var t,r,n,a,s=O.get(),o=null;"movie"===e.type&&((t=null===s||void 0===s||null===(r=s[e.source])||void 0===r||null===(n=r.movie)||void 0===n||null===(a=n[e.slug])||void 0===a?void 0:a.full)&&(o=Math.floor(t.currentlyAt/t.totalDuration*100)));return Object(x.jsxs)("div",{className:"movieRow",tabIndex:0,onKeyPress:function(t){"Enter"!==t.code&&"Space"!==t.code||!e.onClick||e.onClick()},onClick:function(){return e.onClick&&e.onClick()},children:["trailersto"===e.source&&Object(x.jsx)("div",{className:"subtitleIcon",children:Object(x.jsx)("svg",{id:"subtitleIcon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("path",{d:"M20 4H4C2.897 4 2 4.897 2 6V18C2 19.103 2.897 20 4 20H20C21.103 20 22 19.103 22 18V6C22 4.897 21.103 4 20 4ZM11 10H8V14H11V16H8C6.897 16 6 15.103 6 14V10C6 8.897 6.897 8 8 8H11V10ZM18 10H15V14H18V16H15C13.897 16 13 15.103 13 14V10C13 8.897 13.897 8 15 8H18V10Z",fill:"#EEEEEE"})})}),Object(x.jsx)("div",{className:"left",children:Object(x.jsx)("div",{className:"titleWrapper",children:Object(x.jsxs)("div",{className:"titleText",children:[e.title,"\xa0",Object(x.jsxs)("span",{className:"year",children:["(",e.year,")"]}),Object(x.jsx)("span",{className:"seasonEpisodeSubtitle",children:e.place?" - S".concat(e.place.season,":E").concat(e.place.episode):""})]})})}),Object(x.jsxs)("div",{className:"watch",children:[Object(x.jsxs)("p",{children:["Watch ",e.type]}),Object(x.jsx)(b,{})]}),Object(x.jsx)(j,{percentage:e.percentage||o})]})}r(49);function k(e){return Object(x.jsxs)("div",{className:"progress ".concat(e.show?"":"hide"," ").concat(e.failed?"failed":""),children:[e.text&&e.text.length>0?Object(x.jsx)("p",{children:e.text}):null,Object(x.jsx)("div",{className:"bar",children:Object(x.jsx)("div",{className:"bar-inner",style:{width:(e.progress/e.steps*100).toFixed(0)+"%"}})})]})}var E=a.a.createContext(null);function C(e){var t=a.a.useState("search"),r=Object(d.a)(t,2),n=r[0],s=r[1],o=a.a.useState(""),c=Object(d.a)(o,2),u=c[0],l=c[1],p=a.a.useState(null),h=Object(d.a)(p,2),f=h[0],v=h[1];return Object(x.jsx)(E.Provider,{value:{navigate:function(e){s(e)},page:n,setStreamUrl:l,streamUrl:u,streamData:f,setStreamData:function(e){v((function(t){return Object(i.a)(Object(i.a)({},t),e)}))},resetStreamData:function(){v(null)}},children:e.children})}function q(e){return a.a.useContext(E)}r(50);function A(e){var t=q(),r=t.streamData,n=t.resetStreamData,a=Object(m.e)(),s=e.size||"big",o=e.accentLink||"",c=e.accent||"";function i(){o.length>0&&(a.push("/".concat(r.type)),n())}return Object(x.jsxs)("div",{children:[c.length>0?Object(x.jsxs)("p",{onClick:i,className:"title-accent ".concat(o.length>0?"title-accent-link":""),tabIndex:o.length>0?0:void 0,onKeyPress:function(e){"Enter"!==e.code&&"Space"!==e.code||i()},children:[o.length>0?Object(x.jsx)(b,{left:!0}):null,c]}):null,Object(x.jsx)("h1",{className:"title "+(s?"title-size-".concat(s):""),children:e.children})]})}r(53);function N(e){var t=e.setType,r=e.choices,n=e.selected,a=e.noWrap,s=void 0!==a&&a,o=r.findIndex((function(e){return e.value===n})),c={opacity:-1!==o?1:0,transform:"translateX(".concat(-1!==o?7*o:0,"rem)")};return Object(x.jsxs)("div",{className:"typeSelector ".concat(s?"nowrap":""),children:[r.map((function(e){return Object(x.jsx)("div",{className:"choice ".concat(n===e.value?"selected":""),onClick:function(){return t(e.value)},onKeyPress:(r=e.value,function(e){"Enter"!==e.code&&"Space"!==e.code||t(r)}),tabIndex:0,children:e.label},e.value);var r})),Object(x.jsx)("div",{className:"selectedBar",style:c})]})}var D="".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://theflix.to");function M(){return(M=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase(),e.next=4,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/search/").concat("show"===r?"tv":r,"?query=").concat(n)).then((function(e){return e.text()}));case 4:if(a=e.sent,s=(new DOMParser).parseFromString(a,"text/html"),o=Array.from(s.querySelectorAll("div.results > div > div.wrapper")),c=o.slice(0,5).map((function(e){var t,r,n,a=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("data-media-type");if("movie"===(a="tv"===a?"show":a))try{t=e.querySelector("div.details > div.wrapper > div.title > div > a").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}else if("show"===a)try{t=e.querySelector("div.details > div.wrapper > div.title > div > a > h2").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}return{type:a,title:t,year:r,slug:n+"-"+t.replace(/[^a-z0-9]+|\s+/gim," ").replace(/\s+/g,"-").toLowerCase(),source:"theflix"}})),!(c.length>1)){e.next=12;break}return e.abrupt("return",{options:c});case 12:return e.abrupt("return",{options:[c[0]]});case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function P(){return(P=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/seasons")).then((function(e){return e.text()}));case 3:r=e.sent,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t.split("-")[0],"/seasons")).then((function(e){return e.text()}));case 10:(r=e.sent)&&(t=t.split("-")[0]);case 12:n=Array.from((new DOMParser).parseFromString(r,"text/html").querySelectorAll("div.column_wrapper > div.flex > div")),a=[],s=[],o=f.a.mark((function e(){var r,n,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i[c],(n=r.querySelector("div > section > div > div > div > h2 > a").textContent).includes("Season")){e.next=4;break}return e.abrupt("return","continue");case 4:return o=n.split(" ")[1],a.includes(o)||a.push(o),s[o]||(s[o]=[]),e.next=9,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/season/").concat(o)).then((function(e){return e.text()}));case 9:u=e.sent,Array.from((new DOMParser).parseFromString(u,"text/html").querySelectorAll("div.episode_list > div.card")).forEach((function(e,t){return s[o].push(++t)}));case 12:case"end":return e.stop()}}),e)})),c=0,i=n;case 17:if(!(c<i.length)){e.next=25;break}return e.delegateYield(o(),"t1",19);case 19:if("continue"!==e.t1){e.next=22;break}return e.abrupt("continue",22);case 22:c++,e.next=17;break;case 25:return e.abrupt("return",{seasons:a,episodes:s});case 26:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function I(){return(I=Object(p.a)(f.a.mark((function e(t,r,n,a){var s,o,c,i,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="show"===r?"".concat(D,"/tv-show/").concat(t,"/season-").concat(n,"/episode-").concat(a):"".concat(D,"/movie/").concat(t,"?movieInfo=").concat(t),e.next=3,fetch(s).then((function(e){return e.text()}));case 3:if(o=e.sent,c=Array.from((new DOMParser).parseFromString(o,"text/html").querySelectorAll("script")),!(i=c.find((function(e){return e.textContent.includes("theflixvd.b-cdn")})))){e.next=9;break}return u=JSON.parse(i.textContent),e.abrupt("return",{url:u.props.pageProps.videoUrl});case 9:return e.abrupt("return",{url:""});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T={findContent:function(e,t){return M.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return I.apply(this,arguments)},getEpisodes:function(e){return P.apply(this,arguments)}},F=T,L="https://trailers.to/video/cloudstream/tmdb";function _(){return(_=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase(),e.next=4,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/search/").concat("show"===r?"tv":r,"?query=").concat(n)).then((function(e){return e.text()}));case 4:if(a=e.sent,s=(new DOMParser).parseFromString(a,"text/html"),o=Array.from(s.querySelectorAll("div.results > div > div.wrapper")),c=o.slice(0,5).map((function(e){var t,r,n,a=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("data-media-type");if("movie"===(a="tv"===a?"show":a))try{t=e.querySelector("div.details > div.wrapper > div.title > div > a").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}else if("show"===a)try{t=e.querySelector("div.details > div.wrapper > div.title > div > a > h2").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}return{type:a,title:t,year:r,slug:n+"-"+t.replace(/[^a-z0-9]+|\s+/gim," ").replace(/\s+/g,"-").toLowerCase(),source:"trailersto"}})),!(c.length>1)){e.next=12;break}return e.abrupt("return",{options:c});case 12:return e.abrupt("return",{options:[c[0]]});case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function V(){return(V=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/seasons")).then((function(e){return e.text()}));case 3:r=e.sent,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t.split("-")[0],"/seasons")).then((function(e){return e.text()}));case 10:(r=e.sent)&&(t=t.split("-")[0]);case 12:n=Array.from((new DOMParser).parseFromString(r,"text/html").querySelectorAll("div.column_wrapper > div.flex > div")),a=[],s=[],o=f.a.mark((function e(){var r,n,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i[c],(n=r.querySelector("div > section > div > div > div > h2 > a").textContent).includes("Season")){e.next=4;break}return e.abrupt("return","continue");case 4:return o=n.split(" ")[1],a.includes(o)||a.push(o),s[o]||(s[o]=[]),e.next=9,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/season/").concat(o)).then((function(e){return e.text()}));case 9:u=e.sent,Array.from((new DOMParser).parseFromString(u,"text/html").querySelectorAll("div.episode_list > div.card")).forEach((function(e,t){return s[o].push(++t)}));case 12:case"end":return e.stop()}}),e)})),c=0,i=n;case 17:if(!(c<i.length)){e.next=25;break}return e.delegateYield(o(),"t1",19);case 19:if("continue"!==e.t1){e.next=22;break}return e.abrupt("continue",22);case 22:c++,e.next=17;break;case 25:return e.abrupt("return",{seasons:a,episodes:s});case 26:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function U(){return(U=Object(p.a)(f.a.mark((function e(t,r,n,a){var s,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==r){e.next=6;break}return e.next=3,fetch("https://trailers.to/subtitles/cloudstream/tmdb/".concat(t.split("-")[0],"/S").concat(n,"E").concat(a)).then((function(e){return e.json()}));case 3:c=e.sent,e.next=9;break;case 6:return e.next=8,fetch("https://trailers.to/subtitles/cloudstream/tmdb/".concat(t.split("-")[0])).then((function(e){return e.json()}));case 8:c=e.sent;case 9:if(i=null===(s=c)||void 0===s?void 0:s.filter((function(e){return"object"!==typeof e.MetaInfo.SubDownloadLink&&("en"===e.LanguageCode||"ar"===e.LanguageCode)})),"show"!==r){e.next=16;break}return e.next=13,fetch("".concat(L,"/").concat(t.split("-")[0],"/S").concat(n,"E").concat(a)).then((function(e){return e.url}));case 13:o=e.sent,e.next=19;break;case 16:return e.next=18,fetch("".concat(L,"/").concat(t.split("-")[0])).then((function(e){return e.url}));case 18:o=e.sent;case 19:if(!o){e.next=21;break}return e.abrupt("return",{url:o,subtitles:i});case 21:return e.abrupt("return",{url:""});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H,B={findContent:function(e,t){return _.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return U.apply(this,arguments)},getEpisodes:function(e){return V.apply(this,arguments)}},R=B,W=r(14),z="".concat("https://proxy-1.alxi7.workers.dev/?destination=").concat("https://xemovie.co");function K(){return(K=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,o,c,i,u,l,p,d,h,v,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/search?q=").concat(encodeURIComponent(t))).then((function(e){return e.text()}));case 3:if(n=e.sent,a=new DOMParser,s=a.parseFromString(n,"text/html"),o=Array.from(s.getElementById("".concat("show"===r?'"serie"':'"movie"')).parentElement.parentElement.querySelectorAll("div.grid.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-4.gap-3.flow-root.mt-5 > div")),c=o.map((function(e){return{type:r,title:e.querySelector("a.text-white.text-base.font-semibold").innerText.trim(),year:e.querySelector(".float-right.text-neutral-dark.text-sm.font-normal").innerText.trim(),slug:e.querySelector("a").href.split("/").pop()}})),i=new W.a(c,{threshold:.3,distance:200,keys:["title"]}),0!==(u=i.search(t.toString()).map((function(e){return e.item}))).length){e.next=12;break}return e.abrupt("return",{options:[]});case 12:if(!(u.length>1)){e.next=18;break}return l={options:[]},u.forEach((function(e){return l.options.push({title:e.title,slug:e.slug,type:e.type,year:e.year,source:"xemovie"})})),e.abrupt("return",l);case 18:return p=u[0],d=p.title,h=p.slug,v=p.type,m=p.year,e.abrupt("return",{options:[{title:d,slug:h,type:v,year:m,source:"xemovie"}]});case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{options:[]});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function J(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","movie"===t.type?r="".concat(z,"/movies/").concat(t.id,"/watch"):"show"===t.type&&(r="".concat(z,"/tv-shows/").concat(t.id,"/watch")),e.next=4,fetch(r).then((function(e){return e.text()}));case 4:if(n=e.sent,a=Array.from((new DOMParser).parseFromString(n,"text/html").querySelectorAll("script")),s=a.find((function(e){return e.textContent.includes("s3.xemovie.com")})),o="",!s){e.next=12;break}return(o=s.textContent.replace(/\s+/g,"").split(",").find((function(e){return e.includes("s3.xemovie.com")})).split('"').find((function(e){return e.includes("s3.xemovie.com")}))).endsWith(".m3u8")&&(o=""),e.abrupt("return",{videoUrl:o});case 12:return e.abrupt("return",{url:""});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(z,"/tv-shows/").concat(t),e.next=3,fetch(r,{headers:{phpsessid:H}}).then((function(e){return e.text()}));case 3:return n=e.sent,a=new DOMParser,s=a.parseFromString(n,"text/html"),o=Array.from(s.querySelectorAll("div.grid.grid-cols-3.gap-3 > a")),c=o.map((function(e){return{title:e.innerText.trim(),episode:e.innerText.split(" ").pop().trim(),id:e.href.split("/").slice(-2).reverse().pop(),season:"1"}})),i=new W.a(c,{threshold:.3,distance:200,keys:["title"]}),u=[],l=[],i._docs.forEach((function(e){u.includes(e.season)||u.push(e.season),l[e.season]||(l[e.season]=[]),l[e.season].push(e.episode)})),e.abrupt("return",{seasons:u,episodes:l});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(p.a)(f.a.mark((function e(t,r,n,a){var s,o,c,i,u,l,p,d,h,v,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="","movie"===r&&(s=t),"show"!==r){e.next=18;break}return o="".concat(z,"/").concat("show"===r?"tv-shows":"movies","/").concat(t),e.next=6,fetch(o);case 6:return(c=e.sent).headers.get("phpsessid")&&(H=c.headers.get("phpsessid")),e.next=10,c.text();case 10:i=e.sent,u=new DOMParser,l=u.parseFromString(i,"text/html"),p=Array.from(l.querySelectorAll("div.grid.grid-cols-3.gap-3 > a")),d=p.map((function(e){return{title:e.innerText.trim(),episode:e.innerText.split(" ").pop().trim(),id:e.href.split("/").slice(-2).reverse().pop(),season:"1"}})),h=new W.a(d,{threshold:.3,distance:200,keys:["title"]}),(v=h._docs.find((function(e){return e.season===n&&e.episode===a})))&&(s=v.id);case 18:if(""!==s){e.next=20;break}return e.abrupt("return",{url:""});case 20:return e.next=22,J({slug:t,id:s,type:r});case 22:return m=e.sent,e.abrupt("return",{url:m.videoUrl});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X,Q={findContent:function(e,t){return K.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return G.apply(this,arguments)},getEpisodes:function(e){return Z.apply(this,arguments)}},$=Q,ee="".concat("https://proxy-1.alxi7.workers.dev/?destination=").concat("https://akwam.to");function te(){return(te=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,o,c,i,u,l,p,d,h,v,m,x;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(ee,"/search?q=").concat(encodeURIComponent(t)),e.next=4,fetch(n).then((function(e){return e.text()}));case 4:if(a=e.sent,s=new DOMParser,o=s.parseFromString(a,"text/html"),c=Array.from(o.querySelectorAll(".col-lg-auto.col-md-4.col-6.mb-12")),i=c.map((function(e){return{type:r,title:e.querySelector("a.text-white").innerText.trim(),year:e.querySelector("span.badge.badge-pill.badge-secondary.ml-1").innerText.trim(),slug:e.querySelector("a").href.split("/").slice(-2).reverse().pop()+"/"+e.querySelector("a").href.split("/").pop()}})),u=new W.a(i,{threshold:.3,distance:200,keys:["title"]}),0!==(l=u.search(t.toString()).map((function(e){return e.item}))).length){e.next=13;break}return e.abrupt("return",{options:[]});case 13:if(!(l.length>1)){e.next=19;break}return p={options:[]},l.forEach((function(e){return p.options.push({title:e.title,slug:e.slug,type:e.type,year:e.year,source:"akwam"})})),e.abrupt("return",p);case 19:return d=l[0],h=d.title,v=d.slug,m=d.type,x=d.year,e.abrupt("return",{options:[{title:h,slug:v,type:m,year:x,source:"akwam"}]});case 21:e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",{options:[]});case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}function re(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","movie"===t.type?r="".concat(ee,"/movie/").concat(t.id):"show"===t.type&&(r="".concat(ee,"/episode/").concat(t.id)),e.next=4,fetch(r,{headers:{phpsessid:X}}).then((function(e){return e.text()}));case 4:return n=e.sent,a=new DOMParser,s=a.parseFromString(n,"text/html"),o=Array.from(s.querySelectorAll("#tab-4"))[0].querySelectorAll("a.link-btn.link-show.d-flex.align-items-center.px-3")[0].href.split("/").pop(),c="",("movie"===t.type||"show"===t.type)&&(c="".concat(ee,"/download/").concat(o,"/").concat(t.id)),e.next=12,fetch(c,{headers:{phpsessid:X}}).then((function(e){return e.text()}));case 12:return i=e.sent,u=a.parseFromString(i,"text/html"),l=Array.from(u.querySelectorAll("a.font-size-16.text-muted"))[0].href,e.abrupt("return",{videoUrl:l});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(ee,"/series/").concat(t),e.next=3,fetch(r,{headers:{phpsessid:X}}).then((function(e){return e.text()}));case 3:return n=e.sent,a=new DOMParser,s=a.parseFromString(n,"text/html"),o=Array.from(s.querySelectorAll(".bg-primary2.p-4.col-lg-4.col-md-6.col-12")),c=o.map((function(e){return{title:e.querySelector("img.img-fluid").alt.split(" : ")[1].trim(),episode:e.querySelector("img.img-fluid").alt.split(" : ")[0].trim(),id:e.querySelector("a").href.split("/").slice(-2).reverse().pop()+"/"+e.querySelector("a").href.split("/").pop(),season:"1"}})),i=new W.a(c,{threshold:.3,distance:200,keys:["title"]}),u=[],l=[],i._docs.forEach((function(e){u.includes(e.season)||u.push(e.season),l[e.season]||(l[e.season]=[]),l[e.season].push(e.episode)})),e.abrupt("return",{seasons:u,episodes:l});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(p.a)(f.a.mark((function e(t,r,n,a){var s,o,c,i,u,l,p,d,h,v,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="","movie"===r&&(s=t),"show"!==r){e.next=18;break}return o="".concat(ee,"/").concat("show"===r?"series":r,"/").concat(t),e.next=6,fetch(o);case 6:return(c=e.sent).headers.get("phpsessid")&&(X=c.headers.get("phpsessid")),e.next=10,c.text();case 10:i=e.sent,u=new DOMParser,l=u.parseFromString(i,"text/html"),p=Array.from(l.querySelectorAll(".bg-primary2.p-4.col-lg-4.col-md-6.col-12")),d=p.map((function(e){return{title:e.querySelector("img.img-fluid").alt.split(" : ")[1].trim(),episode:e.querySelector("img.img-fluid").alt.split(" : ")[0].trim(),id:e.querySelector("a").href.split("/").slice(-2).reverse().pop()+"/"+e.querySelector("a").href.split("/").pop(),season:"1"}})),h=new W.a(d,{threshold:.3,distance:200,keys:["title"]}),(v=h._docs.find((function(e){return e.season===n&&e.episode===a})))&&(s=v.id);case 18:if(""!==s){e.next=20;break}return e.abrupt("return",{url:""});case 20:return e.next=22,re({slug:t,id:s,type:r});case 22:return m=e.sent,e.abrupt("return",{url:m.videoUrl});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={findContent:function(e,t){return te.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return se.apply(this,arguments)},getEpisodes:function(e){return ae.apply(this,arguments)}},ce=oe;function ie(){return(ie=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase(),e.next=4,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/search/").concat("show"===r?"tv":r,"?query=").concat(n)).then((function(e){return e.text()}));case 4:if(a=e.sent,s=(new DOMParser).parseFromString(a,"text/html"),o=Array.from(s.querySelectorAll("div.results > div > div.wrapper")),c=o.slice(0,5).map((function(e){var t,r,n,a=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("data-media-type");if("movie"===(a="tv"===a?"show":a))try{t=e.querySelector("div.details > div.wrapper > div.title > div > a").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}else if("show"===a)try{t=e.querySelector("div.details > div.wrapper > div.title > div > a > h2").textContent,r=e.querySelector("div.details > div.wrapper > div.title > span").textContent.trim().split(" ")[2],n=e.querySelector("div.details > div.wrapper > div.title > div > a").getAttribute("href").split("/")[2]}catch(s){return}return{type:a,title:t,year:r,slug:n+"-"+t.replace(/[^a-z0-9]+|\s+/gim," ").replace(/\s+/g,"-").toLowerCase(),source:"egybest"}})),!(c.length>1)){e.next=12;break}return e.abrupt("return",{options:c});case 12:return e.abrupt("return",{options:[c[0]]});case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function ue(){return(ue=Object(p.a)(f.a.mark((function e(t){var r,n,a,s,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/seasons")).then((function(e){return e.text()}));case 3:r=e.sent,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t.split("-")[0],"/seasons")).then((function(e){return e.text()}));case 10:(r=e.sent)&&(t=t.split("-")[0]);case 12:n=Array.from((new DOMParser).parseFromString(r,"text/html").querySelectorAll("div.column_wrapper > div.flex > div")),a=[],s=[],o=f.a.mark((function e(){var r,n,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i[c],(n=r.querySelector("div > section > div > div > div > h2 > a").textContent).includes("Season")){e.next=4;break}return e.abrupt("return","continue");case 4:return o=n.split(" ")[1],a.includes(o)||a.push(o),s[o]||(s[o]=[]),e.next=9,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://www.themoviedb.org/tv/").concat(t,"/season/").concat(o)).then((function(e){return e.text()}));case 9:u=e.sent,Array.from((new DOMParser).parseFromString(u,"text/html").querySelectorAll("div.episode_list > div.card")).forEach((function(e,t){return s[o].push(++t)}));case 12:case"end":return e.stop()}}),e)})),c=0,i=n;case 17:if(!(c<i.length)){e.next=25;break}return e.delegateYield(o(),"t1",19);case 19:if("continue"!==e.t1){e.next=22;break}return e.abrupt("continue",22);case 22:c++,e.next=17;break;case 25:return e.abrupt("return",{seasons:a,episodes:s});case 26:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function le(){return(le=Object(p.a)(f.a.mark((function e(t,r,n,a){var s,o,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==r){e.next=4;break}s="https://aero.egybest.co/episode/".concat(t.slice(t.split("-")[0].length+1),"-season-").concat(n,"-ep-").concat(a),e.next=8;break;case 4:return e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=d0aa8ae113702ff0e14262d798b063b0&language=en-US")).then((function(e){return e.json()}));case 6:o=e.sent,s="https://aero.egybest.co/movie/".concat(t.slice(t.split("-")[0].length+1),"-").concat(o.release_date.split("-").shift());case 8:return e.next=10,fetch("".concat("https://proxy-1.alxi7.workers.dev/?destination=","https://zawmedia-api.herokuapp.com/egybest?url=").concat(s)).then((function(e){return e.json()}));case 10:if(c=e.sent,!(i=c[1].mp4)){e.next=14;break}return e.abrupt("return",{url:i});case 14:return e.abrupt("return",{url:""});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe={findContent:function(e,t){return ie.apply(this,arguments)},getStreamUrl:function(e,t,r,n){return le.apply(this,arguments)},getEpisodes:function(e){return ue.apply(this,arguments)}},de=pe;function he(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(p.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={options:[]},e.next=3,Promise.all([R.findContent(t,r),F.findContent(t,r),$.findContent(t,r),de.findContent(t,r),ce.findContent(t,r)]);case 3:return e.sent.forEach((function(e){e&&e.options&&e.options.forEach((function(e){e&&n.options.push(e)}))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t,r,n,a){return me.apply(this,arguments)}function me(){return(me=Object(p.a)(f.a.mark((function e(t,r,n,a,s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="trailersto"===e.t0?3:"theflix"===e.t0?6:"xemovie"===e.t0?9:"egybest"===e.t0?12:"akwam"===e.t0?15:18;break;case 3:return e.next=5,R.getStreamUrl(t,r,a,s);case 5:case 8:case 11:case 14:case 17:return e.abrupt("return",e.sent);case 6:return e.next=8,F.getStreamUrl(t,r,a,s);case 9:return e.next=11,$.getStreamUrl(t,r,a,s);case 12:return e.next=14,de.getStreamUrl(t,r,a,s);case 15:return e.next=17,ce.getStreamUrl(t,r,a,s);case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return be.apply(this,arguments)}function be(){return(be=Object(p.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="trailersto"===e.t0?3:"theflix"===e.t0?6:"xemovie"===e.t0?9:"egybest"===e.t0?12:"akwam"===e.t0?15:18;break;case 3:return e.next=5,R.getEpisodes(t);case 5:case 8:case 11:case 14:case 17:return e.abrupt("return",e.sent);case 6:return e.next=8,F.getEpisodes(t);case 9:return e.next=11,$.getEpisodes(t);case 12:return e.next=14,de.getEpisodes(t);case 15:return e.next=17,ce.getEpisodes(t);case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(54);function we(){var e,t=q(),r=t.navigate,n=t.setStreamUrl,s=t.setStreamData,o=Object(m.e)(),c=Object(m.f)("/:type"),h=null===c||void 0===c||null===(e=c.params)||void 0===e?void 0:e.type,j=Object(m.f)("/:type/:source/:title/:slug"),E=a.a.useState([]),C=Object(d.a)(E,2),D=C[0],M=C[1],P=a.a.useState(0),I=Object(d.a)(P,2),T=I[0],F=I[1],L=a.a.useState(""),_=Object(d.a)(L,2),V=_[0],U=_[1],H=a.a.useState(!1),B=Object(d.a)(H,2),R=B[0],W=B[1],z=a.a.useState(!1),K=Object(d.a)(z,2),J=K[0],Y=K[1],Z=a.a.useState(!1),G=Object(d.a)(Z,2),X=G[0],Q=G[1],$=a.a.useState("search"),ee=Object(d.a)($,2),te=ee[0],re=ee[1],ne=a.a.useState([]),ae=Object(d.a)(ne,2),se=ae[0],oe=ae[1],ce=function(e){F(4),U(e),W(!0)};function ie(e,t,r,n,a){return ue.apply(this,arguments)}function ue(){return ue=Object(p.a)(f.a.mark((function e(t,a,o,c,i){var u,l,p,d,h,v,m,x;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(""),e.prev=1,F(2),U('Getting stream for "'.concat(t,'"')),u=[],l=[],"show"!==o){e.next=12;break}return e.next=9,xe(a,c);case 9:p=e.sent,u=p.seasons,l=p.episodes;case 12:if(d="",h=[],"movie"!==o){e.next=24;break}return e.next=17,ve(a,o,c);case 17:if(v=e.sent,m=v.url,x=v.subtitles,""!==m){e.next=22;break}return e.abrupt("return",ce("Not found: ".concat(t)));case 22:d=m,h=x;case 24:F(4),n(d),s({title:t,type:o,seasons:u,episodes:l,slug:a,source:c,year:i,subtitles:h}),U("Streaming..."),r("movie"),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(1),console.error(e.t0),ce("Failed to get stream");case 35:case"end":return e.stop()}}),e,null,[[1,31]])}))),ue.apply(this,arguments)}function le(){return(le=Object(p.a)(f.a.mark((function e(t,r){var n,a,s,i,u,l,p,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!1),U("Searching for ".concat(r,' "').concat(t,'"')),F(1),Y(!1),e.prev=4,e.next=7,he(t,r);case 7:if(n=e.sent,0!==(a=n.options).length){e.next=13;break}return e.abrupt("return",ce("Could not find that ".concat(r)));case 13:if(!(a.length>1)){e.next=19;break}return F(2),U("Choose your ".concat(r)),M(a),Y(!0),e.abrupt("return");case 19:s=a[0],i=s.title,u=s.slug,l=s.type,p=s.source,d=s.year,o.push("".concat(c.url,"/").concat(p,"/").concat(i,"/").concat(u)),ie(i,u,l,p,d),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.error(e.t0),ce("Failed to find ".concat(r));case 28:case"end":return e.stop()}}),e,null,[[4,24]])})))).apply(this,arguments)}if(a.a.useEffect((function(){function e(){return(e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://proxy-1.alxi7.workers.dev/?destination=").catch((function(){Q("Content provider is currently offline, please try again later.")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),a.a.useEffect((function(){if(j){if("movie"!==(null===j||void 0===j?void 0:j.params.type)&&"show"!==j.params.type)return Q("Failed to find movie. Please try searching below.");ie(j.params.title,j.params.slug,j.params.type,j.params.source)}}),[]),a.a.useEffect((function(){var e=O.get(),t=[];Object.keys(e).forEach((function(r){var n,a,s,o,c,p=[].concat(Object(l.a)(Object.entries(null!==(n=null===(a=e[r])||void 0===a?void 0:a.show)&&void 0!==n?n:{})),Object(l.a)(Object.entries(null!==(s=null===(o=e[r])||void 0===o?void 0:o.movie)&&void 0!==s?s:{}))),h=Object(u.a)(p);try{for(h.s();!(c=h.n()).done;)for(var f=Object(d.a)(c.value,2),v=f[0],m=f[1],x=0,b=Object.values(m);x<b.length;x++){var w=b[x],y={slug:v,data:w,type:w.show?"show":"movie",percentageDone:Math.floor(w.currentlyAt/w.totalDuration*100),source:r};if(w.meta)if(y.percentageDone<90)t.push(y);else{var g,j,O,S,k;if(!w.show)continue;var E={};if(w.meta.episodes[w.show.season].includes("".concat(parseInt(w.show.episode)+1)))E.season=w.show.season,E.episode="".concat(parseInt(w.show.episode)+1),y.percentageDone=0;else{if(null===(g=w.meta.episodes)||void 0===g||null===(j=g["".concat(parseInt(w.show.season)+1)])||void 0===j||!j[0])continue;E.season="".concat(parseInt(w.show.season)+1),E.episode=w.meta.episodes["".concat(parseInt(w.show.season)+1)][0],y.percentageDone=0}if(y.data.show=Object(i.a)({},E),null===e||void 0===e||null===(O=e[r])||void 0===O||null===(S=O.show)||void 0===S||null===(k=S[v])||void 0===k?void 0:k["".concat(y.data.show.season,"-").concat(y.data.show.episode)])continue;t.push(y)}}}catch(C){h.e(C)}finally{h.f()}t=t.sort((function(e,t){return t.data.updatedAt-e.data.updatedAt})),oe(t)}))}),[]),!h||"movie"!==h&&"show"!==h)return Object(x.jsx)(m.a,{to:"/show"});var pe=function(e){return function(t){"Enter"!==t.code&&"Space"!==t.code||re(e)}};return Object(x.jsxs)("div",{className:"cardView",children:[Object(x.jsx)(v.a,{children:Object(x.jsxs)("title",{children:["movie"===h?"Movies":"Shows"," | Alex"]})}),Object(x.jsxs)("nav",{children:[Object(x.jsx)("span",{className:"search"===te?"selected-link":"",onClick:function(){return re("search")},onKeyPress:pe("search"),tabIndex:0,children:"Search"}),se.length>0?Object(x.jsx)("span",{className:"watching"===te?"selected-link":"",onClick:function(){return re("watching")},onKeyPress:pe("watching"),tabIndex:0,children:"Continue Watching"}):""]}),"search"===te?Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsxs)(w,{children:[X?Object(x.jsx)(y,{children:X}):"",Object(x.jsx)(A,{accent:"\ud83e\udd2d \u0645\u0627\u062a \u0647\u0627\u0644\u0627\u0633\u0628\u0648\u0639",children:"What do you wanna watch?"}),Object(x.jsx)(N,{setType:function(e){return o.push("/".concat(e))},choices:[{label:"TV Show",value:"show"},{label:"Movie",value:"movie"}],noWrap:!0,selected:h}),Object(x.jsx)(g,{placeholder:"movie"===h?"Search Movies...":"Search Shows...",onSubmit:function(e){return function(e,t){return le.apply(this,arguments)}(e,h)}}),Object(x.jsx)(k,{show:T>0,failed:R,progress:T,steps:4,text:V})]}),Object(x.jsxs)(w,{show:J,doTransition:!0,children:[Object(x.jsxs)(A,{size:"medium",children:["Results for ",h,"s like that"]}),Object.entries(D.reduce((function(e,t){return e[t.source]||(e[t.source]=[]),e[t.source].push(t),e}),{})).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"source",children:e[0]}),e[1].map((function(e,t){return Object(x.jsx)(S,{title:e.title,slug:e.slug,type:e.type,year:e.year,source:e.source,onClick:function(){o.push("".concat(c.url,"/").concat(e.source,"/").concat(e.title,"/").concat(e.slug)),Y(!1),ie(e.title,e.slug,e.type,e.source,e.year)}},t)}))]},e[0])}))]})]}):Object(x.jsx)(a.a.Fragment,{}),se.length>0&&"watching"===te?Object(x.jsxs)(w,{children:[Object(x.jsx)(A,{children:"Continue Watching"}),Object(x.jsx)(k,{show:T>0,failed:R,progress:T,steps:4,text:V}),null===se||void 0===se?void 0:se.map((function(e,t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S,{title:e.data.meta.title,slug:e.data.meta.slug,type:e.type,year:e.data.meta.year,source:e.source,place:e.data.show,percentage:e.percentageDone,deletable:!0,onClick:function(){"show"===e.type?o.push("/show/".concat(e.source,"/").concat(e.data.meta.title,"/").concat(e.slug,"/season/").concat(e.data.show.season,"/episode/").concat(e.data.show.episode)):o.push("/movie/".concat(e.source,"/").concat(e.data.meta.title,"/").concat(e.slug)),Y(!1),ie(e.data.meta.title,e.data.meta.slug,e.type,e.source,e.data.meta.year)}},t),Object(x.jsxs)("div",{className:"remove",onClick:function(){oe((function(t){return t.filter((function(t){return t!==e}))}));var t=O.get();"show"===e.type?(delete t[e.source][e.type][e.slug][e.data.show.season+"-"+e.data.show.episode],t.save()):(delete t[e.source][e.type][e.slug].full,t.save()),t[e.source]==={}&&(delete t[e.source],t.save(),window.location.reload()),t[e.source][e.type]==={}&&(delete t[e.source][e.type],t.save()),t[e.source][e.type][e.slug]==={}&&(delete t[e.source][e.type][e.slug],t.save())},children:[Object(x.jsx)("p",{style:{color:"var(--failed)"},children:"Remove"}),Object(x.jsxs)("p",{style:{paddingLeft:".5rem",color:"var(--text-secondary)"},children:[e.data.meta.title," (",e.data.meta.year,") ","show"===e.type?" - S".concat(e.data.show.season,":E").concat(e.data.show.episode):""]})]})]})}))]}):Object(x.jsx)(a.a.Fragment,{}),Object(x.jsx)("div",{className:"topRightCredits",children:Object(x.jsxs)("a",{href:"https://alex-i7.cf/shows",target:"_blank",rel:"noreferrer",children:["Old Website ",Object(x.jsx)(b,{})]})})]})}var ye=r(22),ge=r.n(ye);r(55);function je(e){return Object(x.jsx)("div",{className:"videoPlaceholder",children:Object(x.jsx)("div",{className:"videoPlaceholderBox",children:Object(x.jsx)("p",{children:e.children})})})}r(56);function Oe(e){var t=e.streamUrl,r=e.loading,n=e.setProgress,s=e.videoRef,o=e.startTime,c=e.streamData,i=a.a.useState(!1),u=Object(d.a)(i,2),l=u[0],p=u[1];function h(){o&&(s.current.currentTime=o)}return a.a.useEffect((function(){if(!t.includes(".mp4")&&!t.includes("cloudstream")){if(p(!1),!s||!s.current||!t||0===t.length||r)return;var e=new ge.a;if(!ge.a.isSupported()&&s.current.canPlayType("application/vnd.apple.mpegurl"))return void(s.current.src=t);if(!ge.a.isSupported())return void p(!0);e.attachMedia(s.current),e.loadSource(t)}}),[s,t,r]),l?Object(x.jsx)(je,{children:"Your browser is not supported"}):r?Object(x.jsx)(je,{children:"Loading episode..."}):t&&0!==t.length?t.includes(".mp4")?t.includes("cloudstream")?Object(x.jsxs)("video",{crossOrigin:"anonymous",className:"videoElement",ref:s,controls:!0,autoPlay:!0,onProgress:n,onLoadedData:h,children:[c.subtitles&&c.subtitles.map((function(e,t){return Object(x.jsx)("track",{kind:"captions",label:e.MetaInfo.LanguageName,src:"https://trailers.to/subtitles/".concat(e.ContentHash,"/").concat(e.MetaInfo.LanguageName,".srt")},t)})),Object(x.jsx)("source",{src:t,type:"video/mp4"})]}):Object(x.jsxs)("video",{className:"videoElement",ref:s,controls:!0,autoPlay:!0,onProgress:n,onLoadedData:h,children:[c.subtitles&&c.subtitles.map((function(e,t){return Object(x.jsx)("track",{kind:"captions",label:e.MetaInfo.LanguageName,src:"https://Trailers.to/subtitles/".concat(e.ContentHash,"/").concat(e.MetaInfo.LanguageName,".srt")},t)})),Object(x.jsx)("source",{src:t,type:"video/mp4"})]}):Object(x.jsx)("video",{crossOrigin:"anonymous",className:"videoElement",ref:s,controls:!0,autoPlay:!0,onProgress:n,onLoadedData:h,children:c.subtitles&&c.subtitles.map((function(e,t){return Object(x.jsx)("track",{kind:"captions",label:e.MetaInfo.LanguageName,src:"https://trailers.to/subtitles/".concat(e.ContentHash,"/").concat(e.MetaInfo.LanguageName,".srt")},t)}))}):Object(x.jsx)(je,{children:"Couldn't load video"})}r(57);function Se(e){var t=e.setType,r=e.choices,n=e.selected;return Object(x.jsx)("div",{className:"numberSelector",children:r.map((function(e){return Object(x.jsx)("div",{className:"choiceWrapper",tabIndex:0,onKeyPress:(r=e.value,function(e){"Space"!==e.code&&"Enter"!==e.code||t(r)}),children:Object(x.jsxs)("div",{className:"choice ".concat(n&&n===e.value?"selected":""),onClick:function(){return t(e.value)},children:[e.label,Object(x.jsx)(j,{percentage:e.percentage})]})},e.value);var r}))})}var ke=r(34),Ee=(r(58),["option"]);function Ce(e){var t=e.option,r=Object(ke.a)(e,Ee);return Object(x.jsxs)("div",Object(i.a)(Object(i.a)({className:"option"},r),{},{children:[Object(x.jsx)("input",{type:"radio",className:"radio",id:t.id}),Object(x.jsx)("label",{htmlFor:t.id,children:Object(x.jsx)("div",{className:"item",children:t.name})})]}))}function qe(e){var t=e.options,r=e.selectedItem,a=e.setSelectedItem;if(!Array.isArray(t))throw new Error("Items must be an array!");var s=Object(n.useState)(!1),o=Object(d.a)(s,2),c=o[0],i=o[1],u=Object(n.useRef)(),l=function(e){u.current.contains(e.target)||p()},p=function(){i(!1)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}),[]);var h=function(e,t,r){e.stopPropagation(),a(r),p()},f=function(e,t){return function(e){"Enter"!==e.code&&"Space"!==e.code||h(e,0,t)}};return Object(x.jsxs)("div",{className:"select-box",ref:u,onClick:function(){return i((function(e){return!e}))},children:[Object(x.jsx)("div",{className:"selected",tabIndex:0,onKeyPress:function(e){"Enter"!==e.code&&"Space"!==e.code||i((function(e){return!e}))},children:t?Object(x.jsx)(Ce,{option:t[r]}):null}),Object(x.jsx)("div",{className:"options-container"+(c?" active":""),children:t.map((function(e,t){return Object(x.jsx)(Ce,{option:e,onClick:function(e){return h(e,0,t)},tabIndex:c?0:void 0,onKeyPress:c?f(0,t):void 0},t)}))})]})}r(59);function Ae(e){var t=e.setSelectedSeason,r=e.selectedSeason,a=e.setEpisode,s=e.seasons,o=e.episodes,c=e.currentSeason,i=e.currentEpisode,u=e.streamData,l=o?o.map((function(e){var t,n,a,s=O.get(),o=0,c=0,i=null===s||void 0===s||null===(t=s[u.source])||void 0===t||null===(n=t[u.type])||void 0===n||null===(a=n[u.slug])||void 0===a?void 0:a["".concat(r,"-").concat(e)];i&&(o=i.currentlyAt,c=i.totalDuration);var l=Math.round(o/c*100);return{value:e.toString(),label:e,percentage:l}})):[],p=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(d.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r}();return Object(x.jsxs)("div",{className:"episodeSelector",children:[s.length>0&&(p.width<=768||s.length>4)?Object(x.jsx)(qe,{setSelectedItem:function(e){return t(s[e])},selectedItem:s.findIndex((function(e){return e===r})),options:s.map((function(e){return{id:e,name:"Season ".concat(e)}}))}):Object(x.jsx)(N,{setType:t,selected:r,choices:s.map((function(e){return{value:e.toString(),label:"Season ".concat(e)}}))}),Object(x.jsx)("br",{}),Object(x.jsx)(Se,{setType:function(e){return a({episode:e,season:r})},choices:l,selected:r.toString()===c?i:null})]})}r(60);function Ne(e){var t=Object(m.f)("/:type/:source/:title/:slug"),r=Object(m.f)("/:type/:source/:title/:slug/season/:season/episode/:episode"),n=Object(m.e)(),s=q(),o=s.streamUrl,c=s.streamData,i=s.setStreamUrl,u=a.a.useState([]),l=Object(d.a)(u,2),p=l[0],h=l[1],f=a.a.useState([]),b=Object(d.a)(f,2),y=b[0],g=b[1],j=a.a.useState(!1),S=Object(d.a)(j,2),k=S[0],E=S[1],C=a.a.useState("1"),N=Object(d.a)(C,2),D=N[0],M=N[1],P=a.a.useState(0),I=Object(d.a)(P,2),T=I[0],F=I[1],L=a.a.useRef(null),_=a.a.useRef(!1),V=(null===r||void 0===r?void 0:r.params.season)||"1",U=(null===r||void 0===r?void 0:r.params.episode)||"1";a.a.useEffect((function(){"show"!==c.type||r||n.replace("".concat(t.url,"/season/1/episode/1"))}),[c.type,r,n,t.url]),a.a.useEffect((function(){"show"===c.type&&r&&M(r.params.season.toString())}),[]),a.a.useEffect((function(){var e=!1;return"show"!==c.type?function(){e=!0}:U?(E(!0),ve(c.slug,c.type,c.source,V,U).then((function(t){var r=t.url,n=t.subtitles;e||(c.subtitles=n,i(r),E(!1))})).catch((function(t){e||console.error(t)})),function(){e=!0}):(E(!1),void i(""))}),[U,c,i,V]),a.a.useEffect((function(){"show"===c.type&&(h(c.seasons),g(c.episodes[D]))}),[c.seasons,c.episodes,c.type,D]),a.a.useEffect((function(){var e,t,r,n,a=O.get(),s="show"===c.type?"".concat(V,"-").concat(U):"full",o=null===a||void 0===a||null===(e=a[c.source])||void 0===e||null===(t=e[c.type])||void 0===t||null===(r=t[c.slug])||void 0===r||null===(n=r[s])||void 0===n?void 0:n.currentlyAt;F(o)}),[t,r]);return Object(x.jsxs)("div",{className:"cardView showType-".concat(c.type),children:[Object(x.jsx)(v.a,{children:Object(x.jsxs)("title",{children:[c.title,"show"===c.type?" | S".concat(V,"E").concat(U):""," | Alex"]})}),Object(x.jsxs)(w,{fullWidth:!0,children:[Object(x.jsx)(A,{accent:"Return to home",accentLink:"search",children:c.title}),"show"===c.type?Object(x.jsxs)(A,{size:"small",children:["Season ",V,": Episode ",U]}):void 0,Object(x.jsx)(Oe,{streamUrl:o,loading:k,setProgress:function(e){var t=O.get();t[c.source]||(t[c.source]={}),t[c.source][c.type]||(t[c.source][c.type]={}),t[c.source][c.type][c.slug]||(t[c.source][c.type][c.slug]={});var r="show"===c.type?"".concat(V,"-").concat(U):"full";t[c.source][c.type][c.slug][r]={currentlyAt:Math.floor(e.currentTarget.currentTime),totalDuration:Math.floor(e.currentTarget.duration),updatedAt:Date.now(),meta:c},"show"===c.type&&(t[c.source][c.type][c.slug][r].show={season:V,episode:U}),t.save()},videoRef:L,startTime:T,streamData:c}),"show"===c.type?Object(x.jsx)(Ae,{setSelectedSeason:M,selectedSeason:D,setEpisode:function(e){var r=e.season,a=e.episode;n.push("".concat(t.url,"/season/").concat(r,"/episode/").concat(a)),_.current=!1},seasons:p,episodes:y,currentSeason:V,currentEpisode:U,streamData:c}):""]})]})}function De(){return q().streamData?Object(x.jsx)(Ne,{}):Object(x.jsx)(we,{})}var Me=function(){return Object(x.jsx)(C,{children:Object(x.jsx)(De,{})})};o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(c.a,{children:Object(x.jsx)(Me,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.b2a97b15.chunk.js.map